<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="AbdallahCoptan">
  <link rel="canonical" href="https://abdallahcoptan.github.io/HandsOn/WebserversDemo/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Demo--Web server on EC2 Linux and Ubuntu Machines - Hydrosat Hands-On</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Demo--Web server on EC2 Linux and Ubuntu Machines";
    var mkdocs_page_input_path = "WebserversDemo.md";
    var mkdocs_page_url = "/HandsOn/WebserversDemo/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/Python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bash.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Hydrosat Hands-On</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="..#covered-topics">Covered Topics</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#table-of-contents">Table of Contents</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="..#credits">Credits</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="..#licence">Licence</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Fundamentals</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../AWS_Account/">Setting Up an AWS Account</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#create-your-account">Create your account</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#add-a-payment-method">Add a Payment Method</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#verify-your-phone-number">Verify your phone number</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#choose-an-aws-support-plan">Choose an AWS Support plan</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#seting-up-your-budget">Seting up Your Budget</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../AWS_Account/#watch-it-here">Watch it here</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Computing</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../EC2/">Using EC2 Compute Instances</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#what-is-amazon-ec2">What is Amazon EC2?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#how-to-get-started-with-amazon-ec2">How to get started with Amazon EC2</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#setting-up-with-amazon-ec2">Setting up with Amazon EC2</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#sign-up-for-aws">Sign up for AWS</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#create-a-key-pair">Create a key pair</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#watch-it-here">Watch it here</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#create-a-security-group">Create a security group</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites">Prerequisites</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#getting-started-with-amazon-ec2-linux-instances">Getting started with Amazon EC2 Linux instances</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#launch-an-instance">Launch an instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#connect-to-your-instance">Connect to your instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#clean-up-your-instance">Clean up your instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#terminate-your-instance">Terminate your instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#next-steps">Next Steps</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#watch-it-here_1">Watch it here</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#connecting-to-your-linux-ec2-instances">Connecting to your Linux EC2 Instances</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#connection-options">Connection options</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#connecting-to-your-linux-instance-using-ssh">Connecting to your Linux instance using SSH</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites_1">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#connect-to-your-linux-instance-using-an-ssh-client">Connect to your Linux instance using an SSH client</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#connecting-to-your-linux-instance-from-windows-using-putty-or-mobaxterm">Connecting to your Linux instance from Windows using PuTTY or MobaXterm</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites_2">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#convert-your-private-key-using-puttygen">Convert your private key using PuTTYgen</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#connecting-to-your-linux-instance">Connecting to your Linux instance</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#transferring-files-to-linux-instances">Transferring files to Linux instances</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#transferring-files-to-linux-instances-from-linux-using-scp">Transferring files to Linux instances from Linux using SCP</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites_3">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#use-scp-to-transfer-a-file">Use SCP to transfer a file</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#transferring-files-to-your-linux-instance-using-the-putty-secure-copy-client">Transferring files to your Linux instance using the PuTTY Secure Copy client</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#transferring-files-to-your-linux-instance-using-winscp">Transferring files to your Linux instance using WinSCP</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites_4">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#configuration">Configuration</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#connect-and-start-transfering-files">Connect and start transfering files</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#watch-it-here_2">Watch it here</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#transferring-files-to-your-linux-instance-using-filezilla">Transferring files to your Linux instance using FileZilla</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#prerequisites_5">Prerequisites</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#configuration_1">Configuration</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#connect-and-start-transfering-files_1">Connect and start transfering files</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EC2/#watch-it-here_3">Watch it here</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EC2/#getting-started-with-amazon-ec2-windows-instances">Getting started with Amazon EC2 Windows Instances</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#connecting-to-your-windows-instance">Connecting to your Windows instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EC2/#transfer-files-to-windows-instances">Transfer files to Windows instances</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../RunPython/">Running Python on AWS EC2 Instance</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#logging-into-the-aws-console">Logging into the AWS Console</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#launching-an-ec2-instance">Launching an EC2 Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#connecting-to-the-ec2-instance">Connecting to the EC2 Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#transfering-files-to-the-ec2-instance">Transfering files to the EC2 Instance</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#running-python-scripts-on-the-ec2-instance">Running Python Scripts on the EC2 Instance</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../RunPython/#prepare-your-virtual-environment-in-python3">Prepare your virtual environment in Python3</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../RunPython/#installing-virtualenv-using-pip3">Installing Virtualenv using pip3</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../RunPython/#create-a-new-virtualenv">Create a new Virtualenv</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../RunPython/#delete-the-virtual-environment">Delete the virtual environment</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RunPython/#watch-it-all-here">Watch it all here</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../RunPython/#run-python-on-linux-instance-connected-from-linux-machine">Run python on Linux instance, connected from Linux machine</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../RunPython/#run-python-on-linux-instance-connected-from-windows-machine">Run python on Linux instance, connected from Windows machine</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Demo--Web server on EC2 Linux and Ubuntu Machines</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-web-server-on-ec2-instance-linux-machine">Creating a web server on EC2 instance: Linux Machine</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-launching-the-instance-with-the-proper-setting">1. Launching the Instance with the proper setting</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-installing-the-webserver-or-user-data-and-shell-scripts">2. Installing the webserver [OR User data and shell scripts]</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-test-the-installed-webserver">3. Test the installed webserver</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-web-server-on-ec2-instance-ubuntu-machine">Creating a web server on EC2 instance: Ubuntu Machine</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-launching-the-instance-with-the-proper-setting_1">1. Launching the Instance with the proper setting</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-installing-the-webserver-or-user-data-and-shell-scripts_1">2. Installing the webserver [OR User data and shell scripts]</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#a-installing-apache-web-server">A. Installing Apache Web Server</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#b-installing-flusk-through-python">B. Installing Flusk through Python</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-test-the-installed-webserver_1">3. Test the installed webserver</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#a-test-apache-server">A. Test Apache Server</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#b-test-flusk-server">B. Test Flusk Server</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#creating-a-web-server-on-ec2-instance-windows-machine">Creating a web server on EC2 instance: Windows Machine</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-create-instance-with-a-windwos-ami">1. Create instance with a Windwos AMI</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-connect-to-the-windows-instance">2. Connect to the Windows instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-install-the-web-server-on-windows">3. Install the web server on Windows</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#running-commands-on-your-linux-instance-at-launch">Running commands on your Linux instance at launch</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#specify-instance-user-data-at-launch">Specify instance user data at launch</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#view-and-update-the-instance-user-data">View and update the instance user data</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#running-commands-on-your-windows-instance-at-launch">Running commands on your Windows instance at launch</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#more-complex-automation-scenarios-during-the-launching-of-instances">More complex automation scenarios during the launching of instances</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../lightsail/">AWS Lightsail Services</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../lightsail/#lightsail-overview">Lightsail Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../lightsail/#lightsail-operating-system-application-templates">Lightsail Operating system &amp; application templates</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../lightsail/#operating-systems">Operating systems</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../lightsail/#applications">Applications</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../lightsail/#stacks">Stacks</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../lightsail/#lightsail-demonistration">Lightsail Demonistration</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../lightsail/#watch-more-detailed-information-about-lightsail-here">Watch more detailed information about Lightsail here</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../othercomputeservices/">Other AWS Compute Services</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../othercomputeservices/#aws-lambda">AWS Lambda</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../othercomputeservices/#watch-it-here">Watch it here</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../othercomputeservices/#aws-container-services">AWS Container Services</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../othercomputeservices/#1-aws-ecs">1. AWS ECS</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../othercomputeservices/#2-amazon-eks">2. Amazon EKS</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../othercomputeservices/#3-aws-fargate">3. AWS Fargate</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Storage</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../awsStore/">Storage on AWS</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../awsStore/#storage-scenario">Storage Scenario</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../awsStore/#object-vs-block-level-storage">[Object vs. block]-level Storage</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../storage/">Dealing with AWS Storage</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../storage/#aws-storage-options">AWS Storage Options</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../storage/#amazon-ebs">Amazon EBS</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../storage/#amazon-ec2-instance-store">Amazon EC2 instance store</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../storage/#amazon-efs-file-system">Amazon EFS file system</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../storage/#amazon-s3">Amazon S3</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../storage/#adding-storage">Adding Storage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../storage/#storage-pricing">Storage Pricing</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../EBS/">Amazon EBS volumes</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#what-to-know-befor-creating-an-ebs-volume">What to know befor creating an EBS volume</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#creating-an-amazon-ebs-volume">Creating an Amazon EBS volume</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#methods-of-creating-a-volume">Methods of creating a volume</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#creating-an-empty-volume">Creating an empty volume</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-create-a-empty-ebs-volume-using-the-console">To create a empty EBS volume using the console</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-create-an-empty-ebs-volume-using-the-command-line">To create an empty EBS volume using the command line</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#creating-a-volume-from-a-snapshot">Creating a volume from a snapshot</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-create-an-ebs-volume-from-a-snapshot-using-the-console">To create an EBS volume from a snapshot using the console</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-create-an-ebs-volume-from-a-snapshot-using-the-command-line">To create an EBS volume from a snapshot using the command line</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#attaching-an-amazon-ebs-volume-to-an-instance">Attaching an Amazon EBS volume to an instance</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#to-attach-an-ebs-volume-to-an-instance-using-the-console">To attach an EBS volume to an instance using the console</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#to-attach-an-ebs-volume-to-an-instance-using-the-command-line">To attach an EBS volume to an instance using the command line</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#more-advanced-attachment">More advanced attachment</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#making-an-amazon-ebs-volume-available-for-use-on-linux">Making an Amazon EBS volume available for use on Linux</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#format-and-mount-an-attached-volume">Format and mount an attached volume</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#check-your-instances-volume-size">Check your instance's volume size</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#making-an-amazon-ebs-volume-available-for-use-on-windows">Making an Amazon EBS volume available for use on Windows</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#releasing-an-amazon-ebs-volume">Releasing an Amazon EBS volume</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#detaching-an-amazon-ebs-volume-from-a-linux-instance">Detaching an Amazon EBS volume from a Linux instance</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-detach-an-ebs-volume-using-the-console">To detach an EBS volume using the console</a>
        <ul>
    <li class="toctree-l5"><a class="reference internal" href="../EBS/#example">Example:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-detach-an-ebs-volume-using-the-command-line">To detach an EBS volume using the command line</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#deleting-an-amazon-ebs-volume">Deleting an Amazon EBS volume</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-delete-an-ebs-volume-using-the-console">To delete an EBS volume using the console</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="../EBS/#to-delete-an-ebs-volume-using-the-command-line">To delete an EBS volume using the command line</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#watch-it-here">Watch it here</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#create-attach-and-mount-a-new-ebs-volume">Create, attach, and mount a new EBS volume</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../EBS/#detach-unmount-and-delet-an-existing-ebs-volume">Detach, unmount, and delet an existing EBS volume</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../EBS/#references">References</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ebsDemo/">Amazon EBS Demo</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../ebsDemo/#note-ebs-types-and-services-quotas">Note: EBS types and services quotas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../ebsDemo/#important-feature-in-amazone-ebs">Important feature in Amazone EBS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../ebsDemo/#difference-between-ebs-and-instance-store">Difference between EBS and Instance Store</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../ebsDemo/#note">Note</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../ebsDemo/#demonestrations-creating-an-amazon-ebs-volume">Demonestrations: Creating an Amazon EBS volume</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="../ebsDemo/#demo-ebs-as-a-root-storage-for-ec2-instances">Demo: EBS as a root storage for EC2 instances</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../ebsDemo/#demo-create-an-empty-ebs-volume-and-attach-it-to-a-running-instance">Demo: Create an empty EBS volume and attach it to a running instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../ebsDemo/#demo-create-an-ebs-volume-from-a-previously-created-snapshot-and-attach-it-to-a-running-instance">Demo: Create an EBS volume from a previously created snapshot and attach it to a running instance</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="../ebsDemo/#demo-attach-an-ebs-volume-to-a-windows-ami-instance">Demo: Attach an EBS volume to a Windows AMI instance</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Databases</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../RDS/">RDS</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../RDS/#amazon-relational-database-rds">Amazon Relational Database (RDS)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RDS/#bring-your-own-database-byodb-vs-amazon-rds">Bring your own database (BYODB) vs Amazon RDS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RDS/#mysql-in-amazon-rds">MySQL in Amazon RDS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RDS/#postgresql-in-amazon-rds">Postgresql in Amazon RDS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../RDS/#migrate-your-database-to-aws-database">Migrate your Database to AWS Database</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../nosql/">NoSQL DB</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Pricing and Support</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../pricing/">AWS Pricing</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../pricing/#aws-cost-explorer">AWS Cost Explorer</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../pricing/#aws-trusted-advisor">AWS Trusted Advisor</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../pricing/#aws-pricing-calculator">AWS Pricing Calculator</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../pricing/#aws-budgets">AWS Budgets</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../pricing/#refrences">Refrences</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../support/">AWS Support</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../support/#four-support-plans-in-aws">Four support plans in AWS</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../support/#basic-support">Basic Support</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">AWS Security & Access Management</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../security/">AWS Security</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../slides/">Training Resources</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="../slides/#slides">Slides</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../slides/#tutorials">Tutorials</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../slides/#videos">Videos</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="../slides/#scripts">Scripts</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../ref/">References</a>
    <ul>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contact/">Contact</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Hydrosat Hands-On</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>AWS Computing &raquo;</li>
        
      
    
    <li>Demo--Web server on EC2 Linux and Ubuntu Machines</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
        <a href="../lightsail/" class="btn btn-neutral float-right" title="AWS Lightsail Services">Next <span class="icon icon-circle-arrow-right"></span></a>
        <a href="../RunPython/" class="btn btn-neutral" title="Running Python on AWS EC2 Instance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="demo-web-server-on-aws-ec2-instances">Demo: Web Server on AWS EC2 Instances<a class="headerlink" href="#demo-web-server-on-aws-ec2-instances" title="Permanent link">&para;</a></h1>
<p>Amazon Elastic Compute Cloud (Amazon EC2) is a web service that provides secure and resizable compute capacity in the cloud. It&rsquo;s designed to make web-scale cloud computing easier for developers.</p>
<p>Amazon EC2 presents a true virtual computing environment, and it allows you to use web service interfaces to launch instances with a variety of operating systems, load them with your custom application environment, manage your network’s access permissions, and run your image by using as many or few systems as you want.</p>
<p>Details on the features and cost of Amazon EC2 are available at: <a href="https://aws.amazon.com/ec2/">https://aws.amazon.com/ec2/</a></p>
<p>Amazon EC2 provides a wide selection of instance types that are optimized to fit different use cases. Instance types comprise varying combinations of CPU, memory, storage, and networking capacity. They give you the flexibility to choose the appropriate mix of resources for your applications. Each instance type includes one or more instance sizes, which allows you to scale your resources to the requirements of your target workload. Current details about available instance types are available at: <a href="https://aws.amazon.com/ec2/instance-types/">https://aws.amazon.com/ec2/instance-types/</a></p>
<p>In this section, you find one of the mostly used servers nowadays (e.g. web server) built on the EC2 comput instances on two different AMI, the first on <a href="#creating-a-web-server-on-ec2-instance:-linux-machine">Linux machine</a>, the second on <a href="#creating-a-web-server-on-ec2-instance:-ubuntu-machine">ubuntu machine</a>, third one on <a href="#creating-a-web-server-on-ec2-instance:-windows-machine">Windows machine</a>.</p>
<h2 id="creating-a-web-server-on-ec2-instance-linux-machine">Creating a web server on EC2 instance: Linux Machine<a class="headerlink" href="#creating-a-web-server-on-ec2-instance-linux-machine" title="Permanent link">&para;</a></h2>
<h3 id="1-launching-the-instance-with-the-proper-setting">1. Launching the Instance with the proper setting<a class="headerlink" href="#1-launching-the-instance-with-the-proper-setting" title="Permanent link">&para;</a></h3>
<p>To create the web server on Amazon linux machine, follow the steps in <a href="../EC2/">Launcing EC2 Instance</a>:</p>
<ol>
<li>Choose Linux AMI, and decide on which kind of instance you need</li>
<li>Configure instance details, up tp now leave it as is</li>
<li>In case you need more storage, add in the next step more volumes</li>
<li>Mange your resources by tags</li>
<li>
<p>Very important is to manage your security groups, see <a href="https://hands-on.readthedocs.io/en/latest/EC2/#create-a-security-group">Create a security group</a>
    a. Do not forget to add the <code>HTTP/HTTPs</code> rule in order to access your web server
    b. Make this rule to be accessed from <strong>anywhere</strong>
    c. Keep the <code>SSH</code> rule as is, this will allow you to access the machin through <code>SSh</code></p>
</li>
<li>
<p>Review your instance by adding a <code>public key</code> to access it </p>
</li>
</ol>
<h3 id="2-installing-the-webserver-or-user-data-and-shell-scripts">2. Installing the webserver [OR <a href="#running-commands-on-your-linux-instance-at-launch">User data and shell scripts</a>]<a class="headerlink" href="#2-installing-the-webserver-or-user-data-and-shell-scripts" title="Permanent link">&para;</a></h3>
<p>Once instance is launched and running:</p>
<ol>
<li>Connect to it through <code>SSH</code></li>
<li>Transfer the files you may need to install them, through internet or from your local machin</li>
<li>Install the <code>web server</code> by using the followin script:<pre><code>$&gt; yum update -y
$&gt; amazon-linux-extras install -y lamp-mariadb10.2-php7.2 php7.2
$&gt; yum install -y httpd mariadb-server
$&gt; systemctl start httpd
$&gt; systemctl enable httpd
$&gt; usermod -a -G apache ec2-user
$&gt; chown -R ec2-user:apache /var/www
$&gt; chmod 2775 /var/www
$&gt; find /var/www -type d -exec chmod 2775 {} \;
$&gt; find /var/www -type f -exec chmod 0664 {} \;
$&gt; echo "&lt;?php phpinfo(); ?&gt;" &gt; /var/www/html/phpinfo.php
</code></pre>
</li>
</ol>
<p>You can run the previous commands in the terminal or run it as a bash script, see all <a href="../slides/#scripts">scripts</a>, Check <a href="https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/script_linux.sh">Apache: Webserver installation Linux bash script (Script_linux.sh)</a>, it is as follow:</p>
<pre><code>    #!/bin/bash
    yum update -y
    amazon-linux-extras install -y lamp-mariadb10.2-php7.2 php7.2
    yum install -y httpd mariadb-server
    systemctl start httpd
    systemctl enable httpd
    usermod -a -G apache ec2-user
    chown -R ec2-user:apache /var/www
    chmod 2775 /var/www
    find /var/www -type d -exec chmod 2775 {} \;
    find /var/www -type f -exec chmod 0664 {} \;
    echo "&lt;?php phpinfo(); ?&gt;" &gt; /var/www/html/phpinfo.php
</code></pre>
<p>In order to run this in the terminal directly, do the following:</p>
<pre><code>    $&gt; wget https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/script_linux.sh
    $&gt; ./script_linux.sh
</code></pre>
<h3 id="3-test-the-installed-webserver">3. Test the installed webserver<a class="headerlink" href="#3-test-the-installed-webserver" title="Permanent link">&para;</a></h3>
<p>In order to test your webserver in the instance, in a web browser, enter the URL of the PHP test file the script created. This URL is the <code>public DNS address</code> of your instance followed by a forward slash and the file name.</p>
<pre><code>    http://my.public.dns.amazonaws.com(or the public IP)/phpinfo.php
</code></pre>
<h2 id="creating-a-web-server-on-ec2-instance-ubuntu-machine">Creating a web server on EC2 instance: Ubuntu Machine<a class="headerlink" href="#creating-a-web-server-on-ec2-instance-ubuntu-machine" title="Permanent link">&para;</a></h2>
<h3 id="1-launching-the-instance-with-the-proper-setting_1">1. Launching the Instance with the proper setting<a class="headerlink" href="#1-launching-the-instance-with-the-proper-setting_1" title="Permanent link">&para;</a></h3>
<p>To create the web server on Amazon linux machine, follow the steps in <a href="../EC2/">Launcing EC2 Instance</a>:</p>
<ol>
<li>Choose Ubuntu server AMI, and decide on which kind of instance you need</li>
<li>Configure instance details, up tp now leave it as is</li>
<li>In case you need more storage, add in the next step more volumes</li>
<li>Mange your resources by tags</li>
<li>
<p>Very important is to manage your security groups, see <a href="https://hands-on.readthedocs.io/en/latest/EC2/#create-a-security-group">Create a security group</a>
    a. Do not forget to add the <code>HTTP/HTTPs</code> rule in order to access your web server
    b. Make this rule to be accessed from <strong>anywhere</strong>
    c. Keep the <code>SSH</code> rule as is, this will allow you to access the machin through <code>SSh</code></p>
</li>
<li>
<p>Review your instance by adding a <code>public key</code> to access it </p>
</li>
</ol>
<h3 id="2-installing-the-webserver-or-user-data-and-shell-scripts_1">2. Installing the webserver [OR <a href="#running-commands-on-your-linux-instance-at-launch">User data and shell scripts</a>]<a class="headerlink" href="#2-installing-the-webserver-or-user-data-and-shell-scripts_1" title="Permanent link">&para;</a></h3>
<h4 id="a-installing-apache-web-server">A. Installing Apache Web Server<a class="headerlink" href="#a-installing-apache-web-server" title="Permanent link">&para;</a></h4>
<p>Once instance is launched and running:</p>
<ol>
<li>Connect to it through <code>SSH</code></li>
<li>Transfer the files you may need to install them, through internet or from your local machin</li>
<li>Install the <code>web server</code> by using the followin script:<pre><code>$&gt; sudo apt-get update
$&gt; sudo add-apt-repository ppa:ondrej/php
$&gt; sudo apt update
$&gt; sudo apt install php7.2
$&gt; sudo groupadd apache
$&gt; sudo usermod -a -G apache ubuntu
$&gt; sudo chown -R ubuntu:apache /var/www
$&gt; sudo chmod 2775 /var/www
$&gt; find /var/www -type d -exec chmod 2775 {} \;
$&gt; find /var/www -type f -exec chmod 0664 {} \;
$&gt; echo "&lt;?php phpinfo(); ?&gt;" &gt; /var/www/html/phpinfo.php
$&gt; cd /var/www/html/
$&gt; wget https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/hydro.html
</code></pre>
</li>
</ol>
<p>You can run the previous commands in the terminal or run it as a bash script, see all <a href="../slides/#scripts">scripts</a>, Check <a href="https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/script_ubuntu_1.sh">Apache: Webserver installation Ubuntu bash script (Script_linux_1.sh)</a>, it is as follow:</p>
<pre><code>    #!/bin/bash
    echo "Y" | sudo apt-get update
    echo "" | sudo add-apt-repository ppa:ondrej/php
    echo "Y" | sudo apt update
    echo "Y" | sudo apt install php7.2
    sudo groupadd apache
    sudo usermod -a -G apache ubuntu
    sudo chown -R ubuntu:apache /var/www
    sudo chmod 2775 /var/www
    find /var/www -type d -exec chmod 2775 {} \;
    find /var/www -type f -exec chmod 0664 {} \;
    echo "&lt;?php phpinfo(); ?&gt;" &gt; /var/www/html/phpinfo.php
    cd /var/www/html/
    wget https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/hydro.html
</code></pre>
<p>In order to run this in the terminal directly, do the following:</p>
<pre><code>    $&gt; wget https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/script_ubuntu_1.sh
    $&gt; chmod +x script_ubuntu_1.sh
    $&gt; ./script_ubuntu_1.sh
</code></pre>
<h4 id="b-installing-flusk-through-python">B. Installing Flusk through Python<a class="headerlink" href="#b-installing-flusk-through-python" title="Permanent link">&para;</a></h4>
<p>Once instance is launched and running:</p>
<ol>
<li>Connect to it through <code>SSH</code></li>
<li>Transfer the files you may need to install them, through internet or from your local machin</li>
<li>Install the <code>web server</code> by using the followin script:<pre><code>$&gt; git clone https://github.com/WillKoehrsen/recurrent-neural-networks.git
$&gt; sudo apt-get update
$&gt; sudo apt-get install python3-pip
$&gt; cd recurrent-neural-networks
$&gt; pip3 install --user -r requirements.txt
$&gt; cd deployment
$&gt; sudo python3 run_keras_server.py
</code></pre>
</li>
</ol>
<p>You can run the previous commands in the terminal or run it as a bash script, see all <a href="../slides/#scripts">scripts</a>, <a href="https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/test.sh">Python web flax: Webserver installation Ubuntu bash script (test.sh)</a>, it is as follow:</p>
<pre><code>    #!/bin/bash
    git clone https://github.com/WillKoehrsen/recurrent-neural-networks.git
    echo "Y" | sudo apt-get update
    echo "Y" | sudo apt-get install python3-pip
    cd recurrent-neural-networks
    pip3 install --user -r requirements.txt
    cd deployment
    sudo python3 run_keras_server.py
</code></pre>
<p>In order to run this in the terminal directly, do the following:</p>
<pre><code>    $&gt; wget https://raw.githubusercontent.com/AbdallahCoptan/HandsOn/master/AWS/docs/Codes/test.sh
    $&gt; chmod +x test.sh
    $&gt; ./test.sh
</code></pre>
<h3 id="3-test-the-installed-webserver_1">3. Test the installed webserver<a class="headerlink" href="#3-test-the-installed-webserver_1" title="Permanent link">&para;</a></h3>
<h4 id="a-test-apache-server">A. Test Apache Server<a class="headerlink" href="#a-test-apache-server" title="Permanent link">&para;</a></h4>
<p>In order to test your webserver in the instance, in a web browser, enter the URL of the PHP test file the script created. This URL is the <code>public DNS address</code> of your instance followed by a forward slash and the file name.</p>
<pre><code>    http://my.public.dns.amazonaws.com(or the public IP)/phpinfo.php
    http://my.public.dns.amazonaws.com(or the public IP)/
    http://my.public.dns.amazonaws.com(or the public IP)/hydro.html
</code></pre>
<h4 id="b-test-flusk-server">B. Test Flusk Server<a class="headerlink" href="#b-test-flusk-server" title="Permanent link">&para;</a></h4>
<p>In order to test your webserver in the instance, in a web browser, enter the URL of the PHP test file the script created. This URL is the <code>public DNS address</code> of your instance followed by a forward slash and the file name.</p>
<pre><code>    http://my.public.dns.amazonaws.com(or the public IP)/
</code></pre>
<h2 id="creating-a-web-server-on-ec2-instance-windows-machine">Creating a web server on EC2 instance: Windows Machine<a class="headerlink" href="#creating-a-web-server-on-ec2-instance-windows-machine" title="Permanent link">&para;</a></h2>
<h3 id="1-create-instance-with-a-windwos-ami">1. Create instance with a Windwos AMI<a class="headerlink" href="#1-create-instance-with-a-windwos-ami" title="Permanent link">&para;</a></h3>
<p>To creat an instance, please check <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/EC2_GetStarted.html">Getting started with Amazon EC2 Windows instances</a>.</p>
<h3 id="2-connect-to-the-windows-instance">2. Connect to the Windows instance<a class="headerlink" href="#2-connect-to-the-windows-instance" title="Permanent link">&para;</a></h3>
<p>To connect to a Windows instance, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html">Connecting to Your Windows Instance</a> in the Amazon EC2 User Guide for Windows Instances. </p>
<p>To transfer files to and from a Windows instance, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html#AccessingInstancesWindowsFileTransfer">Transfer files to Windows instances</a> in the Amazon EC2 User Guide for Windows Instances.</p>
<p>Use <a href="https://remmina.org/">remmina</a> to connect to your instance and transfer files from ubuntu machine. Check <a href="https://yatsushi.com/blog/how-to-create-shared-folder-on-windows-vm-from-ubuntu-with-Remmina/">How to create shared folder on Windows Remote Desktop from Ubuntu via Remmina</a>.</p>
<h3 id="3-install-the-web-server-on-windows">3. Install the web server on Windows<a class="headerlink" href="#3-install-the-web-server-on-windows" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.liquidweb.com/kb/how-to-install-apache-on-a-windows-server/">How to Install Apache on a Windows Server</a></li>
</ul>
<h2 id="running-commands-on-your-linux-instance-at-launch">Running commands on your Linux instance at launch<a class="headerlink" href="#running-commands-on-your-linux-instance-at-launch" title="Permanent link">&para;</a></h2>
<p>When you launch an instance in Amazon EC2, you have the option of passing user data to the instance that can be used to perform common automated configuration tasks and even run scripts after the instance starts. You can pass two types of user data to Amazon EC2: shell scripts and cloud-init directives. You can also pass this data into the launch wizard as plain text, as a file (this is useful for launching instances using the command line tools), or as base64-encoded text (for API calls). </p>
<h3 id="specify-instance-user-data-at-launch">Specify instance user data at launch<a class="headerlink" href="#specify-instance-user-data-at-launch" title="Permanent link">&para;</a></h3>
<p>You can specify instance user data when you launch the instance. If the root volume of the instance is an EBS volume, you can also stop the instance and update its user data. </p>
<p>Follow the procedure for launching an instance at <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/launching-instance.html">Launching an instance using the Launch Instance Wizard</a>, but when you get to <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/launching-instance.html#configure_instance_details_step">Step 3: Configure Instance Details</a> in that procedure, copy your shell script in the User data field, and then complete the launch procedure.</p>
<p>In the example script below, the script creates and configures our web server.</p>
<pre><code>    #!/bin/bash
    yum update -y
    amazon-linux-extras install -y lamp-mariadb10.2-php7.2 php7.2
    yum install -y httpd mariadb-server
    systemctl start httpd
    systemctl enable httpd
    usermod -a -G apache ec2-user
    chown -R ec2-user:apache /var/www
    chmod 2775 /var/www
    find /var/www -type d -exec chmod 2775 {} \;
    find /var/www -type f -exec chmod 0664 {} \;
    echo "&lt;?php phpinfo(); ?&gt;" &gt; /var/www/html/phpinfo.php
</code></pre>
<p>Allow enough time for the instance to launch and execute the commands in your script, and then check to see that your script has completed the tasks that you intended.</p>
<p>For our example, in a web browser, enter the URL of the PHP test file the script created. This URL is the public DNS address of your instance followed by a forward slash and the file name. </p>
<pre><code>    http://my.public.dns.amazonaws.com/phpinfo.php
</code></pre>
<p>You should see the PHP information page. If you are unable to see the PHP information page, check that the security group you are using contains a rule to allow HTTP (port 80) traffic. For more information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/working-with-security-groups.html#adding-security-group-rule">Adding rules to a security group</a>.</p>
<p><code>(Optional)</code> If your script did not accomplish the tasks you were expecting it to, or if you just want to verify that your script completed without errors, examine the cloud-init output log file at <code>/var/log/cloud-init-output.log</code> and look for error messages in the output. </p>
<h3 id="view-and-update-the-instance-user-data">View and update the instance user data<a class="headerlink" href="#view-and-update-the-instance-user-data" title="Permanent link">&para;</a></h3>
<p><strong>To modify instance user data</strong></p>
<ol>
<li>
<p>Open the Amazon EC2 console at <a href="https://console.aws.amazon.com/ec2/">https://console.aws.amazon.com/ec2/</a>.</p>
</li>
<li>
<p>In the navigation pane, choose <strong>Instances</strong>.</p>
</li>
<li>
<p>Select the instance and choose <strong>Actions, Instance State, Stop</strong>.</p>
<pre><code>/!\ Warning

When you stop an instance, the data on any instance store volumes is erased. 
To keep data from instance store volumes, be sure to back it up to persistent storage.
</code></pre>
</li>
<li>
<p>When prompted for confirmation, choose <strong>Yes, Stop</strong>. It can take a few minutes for the instance to stop.</p>
</li>
<li>
<p>With the instance still selected, choose <strong>Actions, Instance Settings, View/Change User Data</strong>. You can&rsquo;t change the user data if the instance is running, but you can view it.</p>
</li>
<li>
<p>In the <strong>View/Change User Data</strong> dialog box, update the user data, and then choose Save.</p>
</li>
<li>
<p>Restart the instance. The new user data is visible on your instance after you restart it; however, user data scripts are not executed.</p>
</li>
</ol>
<h2 id="running-commands-on-your-windows-instance-at-launch">Running commands on your Windows instance at launch<a class="headerlink" href="#running-commands-on-your-windows-instance-at-launch" title="Permanent link">&para;</a></h2>
<p>For information about running commands on your Windows instance at launch, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/ec2-windows-user-data.html">Running Commands on Your Windows Instance at Launch</a> and <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-state.html">Managing Windows Instance Configuration</a> in the Amazon EC2 User Guide for Windows Instances. </p>
<h2 id="more-complex-automation-scenarios-during-the-launching-of-instances">More complex automation scenarios during the launching of instances<a class="headerlink" href="#more-complex-automation-scenarios-during-the-launching-of-instances" title="Permanent link">&para;</a></h2>
<p>If you are interested in more complex automation scenarios, consider using AWS CloudFormation and AWS OpsWorks. For more information, see the <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">AWS CloudFormation User Guide</a> and the <a href="https://docs.aws.amazon.com/opsworks/latest/userguide/welcome.html">AWS OpsWorks User Guide</a>. </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../lightsail/" class="btn btn-neutral float-right" title="AWS Lightsail Services">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../RunPython/" class="btn btn-neutral" title="Running Python on AWS EC2 Instance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../RunPython/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../lightsail/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
